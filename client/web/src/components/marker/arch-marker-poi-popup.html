<md-toolbar class="md-theme-indigo">
  <h1 class="md-toolbar-tools">{{'POINT_OF_INTEREST' | translate}}</h1>
</md-toolbar>
<div class="arch-popup-content">
  <md-content class="md-padding">
  <arch-audit-events audit-events="poi.properties.auditEvents"></arch-audit-events>
  <div ng-if="!poi">
    <md-progress-circular md-diameter="20"  md-mode="indeterminate"></md-progress-circular>
  </div>
  <div ng-if="poi">
    <md-list>
      <md-list-item class="md-2-line">
        <div class="md-list-item-text">
          <h3>{{'NAME' | translate}}</h3>
          <p>{{poi.properties.name}}</p>
        </div>
      </md-list-item>
      <md-list-item class="md-2-line">
        <div class="md-list-item-text">
          <h3>{{'DESCRIPTION' | translate}}</h3>
          <p>{{poi.properties.description}}</p>
        </div>
      </md-list-item>
      <md-list-item class="md-2-line">
        <div class="md-list-item-text">
          <h3>{{'ASSOCIATED_MEDIAS' | translate}}</h3>
        </div>
      </md-list-item>
    </md-list>
    <div style="min-height: 16px">
      <div ng-if="poi.properties.medias.length === 0">
        {{'NO_MEDIAS_FOUND' | translate}}.
      </div>
      <md-button ui-sref="map.marker.media({type: 'poi', id: poi._id})">
        {{'ADD_SOME' | translate}}
      </md-button>
      <div ng-if="poi.properties.medias.length > 0" style="max-height: 300px;">
        <md-grid-list md-cols-sm="2"
                      md-cols-md="2"
                      md-cols-gt-md="2"
                      md-row-height-gt-md="1:1"
                      md-row-height="2:2"
                      md-gutter="12px"
                      md-gutter-gt-sm="8px" >
          <md-grid-tile ng-repeat="media in poi.properties.medias">
            <img style="max-height: 200px" ng-src="{{apiUrl + '/' + media.url }}" />
          </md-grid-tile>
        </md-grid-list>
      </div>
    </div>
  </div>
</md-content>
</div>
